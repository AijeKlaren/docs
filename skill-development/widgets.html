<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Widgets | ProjectAlice</title>
    <meta name="description" content="A smart voice assistant that guarantees your privacy">
    <meta name="generator" content="VuePress 1.3.1">
    <meta http-equiv="Content-Security-Policy" content="default-src &#39;self&#39;; script-src &#39;self&#39;; style-src &#39;self&#39;; img-src &#39;self&#39;; base-uri &#39;none&#39;; form-action &#39;none&#39;; frame-ancestors &#39;none&#39;">
  <meta name="referrer" content="no-referrer">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <meta name="apple-mobile-web-app-title" content="ProjectAlice">
  <meta name="application-name" content="ProjectAlice Docs">
    
    <link rel="preload" href="/assets/css/0.styles.5bca73e4.css" as="style"><link rel="preload" href="/assets/js/app.247d31c2.js" as="script"><link rel="preload" href="/assets/js/3.7d9fab4b.js" as="script"><link rel="preload" href="/assets/js/22.a52285e0.js" as="script"><link rel="prefetch" href="/assets/js/10.3bd09c28.js"><link rel="prefetch" href="/assets/js/11.6698da81.js"><link rel="prefetch" href="/assets/js/12.b4711985.js"><link rel="prefetch" href="/assets/js/13.7ff40118.js"><link rel="prefetch" href="/assets/js/14.5d0891ec.js"><link rel="prefetch" href="/assets/js/15.ce9accdd.js"><link rel="prefetch" href="/assets/js/16.a7758449.js"><link rel="prefetch" href="/assets/js/17.ea54ac73.js"><link rel="prefetch" href="/assets/js/18.6748618d.js"><link rel="prefetch" href="/assets/js/19.cfd16c96.js"><link rel="prefetch" href="/assets/js/20.7d03272e.js"><link rel="prefetch" href="/assets/js/21.23fe3430.js"><link rel="prefetch" href="/assets/js/23.5927259d.js"><link rel="prefetch" href="/assets/js/24.7db52f3a.js"><link rel="prefetch" href="/assets/js/25.eb7e87b8.js"><link rel="prefetch" href="/assets/js/26.163fdd04.js"><link rel="prefetch" href="/assets/js/4.2955d3f3.js"><link rel="prefetch" href="/assets/js/5.d50a32cf.js"><link rel="prefetch" href="/assets/js/6.77f4d7c5.js"><link rel="prefetch" href="/assets/js/7.96f805c5.js"><link rel="prefetch" href="/assets/js/8.a5b9c514.js"><link rel="prefetch" href="/assets/js/9.75939ad4.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.27c77607.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5bca73e4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">ProjectAlice</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/about-alice/" class="nav-link">
  About Alice
</a></div><div class="nav-item"><a href="/set-up/" class="nav-link">
  Set Up
</a></div><div class="nav-item"><a href="/usage/" class="nav-link">
  Using Alice
</a></div><div class="nav-item"><a href="/skill-development/" class="nav-link router-link-active">
  Skill Development
</a></div><div class="nav-item"><a href="/core-development/" class="nav-link">
  Core Development
</a></div><div class="nav-item"><a href="https://documenter.getpostman.com/view/7504420/SW7W59r7" target="_blank" rel="noopener noreferrer" class="nav-link external">
  API
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/contribute/" class="nav-link">
  Contributing
</a></div><div class="nav-item"><a href="/sponsors/" class="nav-link">
  Sponsors
</a></div> <a href="https://github.com/project-alice-assistant/ProjectAlice" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/about-alice/" class="nav-link">
  About Alice
</a></div><div class="nav-item"><a href="/set-up/" class="nav-link">
  Set Up
</a></div><div class="nav-item"><a href="/usage/" class="nav-link">
  Using Alice
</a></div><div class="nav-item"><a href="/skill-development/" class="nav-link router-link-active">
  Skill Development
</a></div><div class="nav-item"><a href="/core-development/" class="nav-link">
  Core Development
</a></div><div class="nav-item"><a href="https://documenter.getpostman.com/view/7504420/SW7W59r7" target="_blank" rel="noopener noreferrer" class="nav-link external">
  API
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/contribute/" class="nav-link">
  Contributing
</a></div><div class="nav-item"><a href="/sponsors/" class="nav-link">
  Sponsors
</a></div> <a href="https://github.com/project-alice-assistant/ProjectAlice" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Skill Development</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/skill-development/" class="sidebar-link">Introduction to Skill Development</a></li><li><a href="/skill-development/your-first-skill.html" class="sidebar-link">Your First Skill</a></li><li><a href="/skill-development/builtin-slots.html" class="sidebar-link">Events</a></li><li><a href="/skill-development/logging.html" class="sidebar-link">Logging</a></li><li><a href="/skill-development/events.html" class="sidebar-link">Events</a></li><li><a href="/skill-development/widgets.html" class="active sidebar-link">Widgets</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/skill-development/widgets.html#widgets-structure" class="sidebar-link">Widgets structure</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/skill-development/widgets.html#css-common-css" class="sidebar-link">css/common.css</a></li><li class="sidebar-sub-header"><a href="/skill-development/widgets.html#css-helloworldwidget-css" class="sidebar-link">css/HelloWorldWidget.css</a></li><li class="sidebar-sub-header"><a href="/skill-development/widgets.html#img" class="sidebar-link">img</a></li><li class="sidebar-sub-header"><a href="/skill-development/widgets.html#js-helloworldwidget-js" class="sidebar-link">js/HelloWorldWidget.js</a></li><li class="sidebar-sub-header"><a href="/skill-development/widgets.html#lang-helloworldwidget-json" class="sidebar-link">lang/HelloWorldWidget.json</a></li><li class="sidebar-sub-header"><a href="/skill-development/widgets.html#templates-helloworldwidget-html" class="sidebar-link">templates/HelloWorldWidget.html</a></li><li class="sidebar-sub-header"><a href="/skill-development/widgets.html#helloworldwidget-py" class="sidebar-link">HelloWorldWidget.py</a></li></ul></li></ul></li><li><a href="/skill-development/skill-configuration-file.html" class="sidebar-link">Skill configuration file</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="widgets"><a href="#widgets" class="header-anchor">#</a> Widgets</h1> <p>Widgets are little tiles that a user can add to the interface home screen. They provide quick overview or functions to your skills. Think a Philips Hue lamp adding a widget for every lamp the user has connected, allowing the user to click on the widget to toggle the light state. Or a widget for a shopping list displaying what's currently in your list. Or a widget displaying the temperature at your Netatmo devices. Or... Well, you got it I guess?</p> <h2 id="widgets-structure"><a href="#widgets-structure" class="header-anchor">#</a> Widgets structure</h2> <p>Widgets come embedded with your skill. They are not mandatory but can be a nice addition for users using the interface. You can add more than one widget per skill and the user decides which ones to use. To add a widget you must create the following structure in your existing skill structure, our HelloWorld skills:</p> <div class="language-text extra-class"><pre class="language-text"><code>.
├─ widgets
│  └─ css
│     └─ common.css
│     └─ HelloWorldWidget.css
│  └─ img
│  └─ js
│     └─ HelloWorldWidget.js
│  └─ lang
│     └─ HelloWorldWidget.json
│  └─ templates
│     └─ HelloWorldWidget.html
│  └─ HelloWorldWidget.py
</code></pre></div><p>Let's break down this structure!</p> <h3 id="css-common-css"><a href="#css-common-css" class="header-anchor">#</a> css/common.css</h3> <p>This contains any css that is common between the widgets your skill proposes</p> <h3 id="css-helloworldwidget-css"><a href="#css-helloworldwidget-css" class="header-anchor">#</a> css/HelloWorldWidget.css</h3> <p>This is your widget dedicated css file! The default content should be as follow:</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.HelloWorldWidget</span> <span class="token punctuation">{</span>
	<span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
	<span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
	<span class="token property">background-color</span><span class="token punctuation">:</span> #636363<span class="token punctuation">;</span>
	<span class="token property">color</span><span class="token punctuation">:</span> #d1d1d1<span class="token punctuation">;</span>
	<span class="token property">padding</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
	<span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.HelloWorldWidget .icon</span> <span class="token punctuation">{</span>
	<span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
	<span class="token property">font-size</span><span class="token punctuation">:</span> 1.5em<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>The first class takes up the whole widget available space and defines the background color</li> <li>The second class defines the widget icon</li></ul> <h3 id="img"><a href="#img" class="header-anchor">#</a> img</h3> <p>If your widgets uses image files, such as backgrounds, you could place them here, for organisation's sake</p> <h3 id="js-helloworldwidget-js"><a href="#js-helloworldwidget-js" class="header-anchor">#</a> js/HelloWorldWidget.js</h3> <p>The engine of your widget! If your widget is interactive, you can code whatever you want in there! Remember, we use Jquery and Jquery-UI so they are at your disposal for coding your stuff! A basic file should look like:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="lang-helloworldwidget-json"><a href="#lang-helloworldwidget-json" class="header-anchor">#</a> lang/HelloWorldWidget.json</h3> <p>This file can be used if your widget displays texts, such as html field labels, buttons or whatever that has text that should be translated. Remember what languages you made your skill compatible with! Your widget should support them too! The structure is the following:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;en&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Hello all&quot;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token property">&quot;de&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Hallo zusammen&quot;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token property">&quot;fr&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Hello à tous&quot;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="templates-helloworldwidget-html"><a href="#templates-helloworldwidget-html" class="header-anchor">#</a> templates/HelloWorldWidget.html</h3> <p>This is what is rendered on the home page, it's your widget! A basic widget file looks like:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>HelloWorldWidget<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>HelloWorldWidget<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>widgetIcons<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>widgetIcon<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>fas fa-space-shuttle<span class="token punctuation">&quot;</span></span> <span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- Your widget html code --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Remember the css classes we defined a little higher? See where they go now?
Also, do you remember the language file? Using automatic translation isn't that hard! Instead of hardcoding your language string, simply replace it by <code>{{ lang.yourStringIndex }}</code>. This will automatically be replaced by, if your Alice instance runs in english, <code>HelloWorldWidget.json['en']['yourStringIndex']</code></p> <h3 id="helloworldwidget-py"><a href="#helloworldwidget-py" class="header-anchor">#</a> HelloWorldWidget.py</h3> <p>This is what makes your widget be loaded by Alice! A raw widget python file would be:</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> sqlite3

<span class="token keyword">from</span> core<span class="token punctuation">.</span>base<span class="token punctuation">.</span>model<span class="token punctuation">.</span>Widget <span class="token keyword">import</span> Widget
<span class="token keyword">from</span> core<span class="token punctuation">.</span>base<span class="token punctuation">.</span>model<span class="token punctuation">.</span>Widget <span class="token keyword">import</span> WidgetSizes


<span class="token keyword">class</span> <span class="token class-name">WorldMap</span><span class="token punctuation">(</span>Widget<span class="token punctuation">)</span><span class="token punctuation">:</span>

	SIZE <span class="token operator">=</span> WidgetSizes<span class="token punctuation">.</span>w_extralarge_wide
	OPTIONS<span class="token punctuation">:</span> <span class="token builtin">dict</span> <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

	<span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> data<span class="token punctuation">:</span> sqlite3<span class="token punctuation">.</span>Row<span class="token punctuation">)</span><span class="token punctuation">:</span>
		<span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>data<span class="token punctuation">)</span>

</code></pre></div><p>Let's take a little look at this!</p> <ul><li><p>SIZE: Defines the size your widget is gonna render, in pixel:</p> <ul><li>w_tiny: 50x50</li> <li>w_tiny_wide: 100x50</li> <li>w_tiny_tall: 50x100</li> <li></li> <li>w_small: 100x100</li> <li>w_small_wide: 200x100</li> <li>w_small_tall: 100x200</li> <li></li> <li>w: 200x200</li> <li>w_wide: 300x200</li> <li>w_tall: 200x300</li> <li></li> <li>w_large: 300x300</li> <li>w_large_wide: 400x300</li> <li>w_large_tall: 300x400</li> <li></li> <li>w_extralarge: 500x500</li> <li>w_extralarge_wide: 700x500</li> <li>w_extralarge_tall: 500x700</li></ul></li> <li><p>OPTIONS</p> <ul><li>To be implemented, but will allow widget options</li></ul></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/project-alice-assistant/docs/edit/master/docs/skill-development/widgets.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/skill-development/events.html" class="prev">
        Events
      </a></span> <span class="next"><a href="/skill-development/skill-configuration-file.html">
        Skill configuration file
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.247d31c2.js" defer></script><script src="/assets/js/3.7d9fab4b.js" defer></script><script src="/assets/js/22.a52285e0.js" defer></script>
  </body>
</html>
